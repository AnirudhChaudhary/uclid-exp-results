/*
Model a traffic light with the usual three phases "red", "green", and "yellow".

Add assertions to check the safety property that every red phase is immediately preceded by a yellow phase. You may add auxiliary variables.

Use the variable names red, green, yellow.
*/

module TrafficLight {
  var red: boolean;
  var green: boolean;
  var yellow: boolean;
  var prev: boolean;

  init {
    red = false; //30
    green = false; //34
    yellow = true; //38
    prev = false; //42

  }
  next {
    if (yellow) {
      prev' = true; //51
      yellow' = false; //55
      green' = true; //59
    } else {
      if (green) {
        prev' = false; //67
        green' = false; //71
        red' = true; //75
      } else {
        if (red) {
          assert prev; //82
          prev' = false; //86
          red' = false; //90
          yellow' = true; //94
        }
      }
    }

  }
}
