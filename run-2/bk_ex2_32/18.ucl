module Sender {
  type Bit = bv2;

  var m: bv8;
  var b: Bit;

  next {
    if (b == 0bv2) {
      m' = m; //40
    }
    if (b == 1bv2) {
      b' = 0bv2; //58
    }

  }
}
module Receiver {
  type Bit = bv2;

  var b: Bit;

  procedure step()
    modifies b;
  {
    if (b == 0bv2) {
      b = b; //98
    }
    if (b == 1bv2) {
      b = 0bv2; //116
    }
  }

  next {
    call step();
  }
}
module Channel {
  type Bit = bv2;
  type message = bv8;

  var buffer: [integer]message;

}
